Step 1. Static routing
======================

Goals
-----

Our goal in this step is to familiarize ourselves with the experimental network
topology. We will not use RIP first, but will get the :ned:`Ipv4NetworkConfigurator`
moduleâ€™s help to calculate the routes and fill in the routing tables accordingly
at the start of the simulation. The routing tables will not change during the
simulation. :ned:`Ipv4NetworkConfigurator` has another task as well: It assigns IP and
MAC addresses to the network interfaces, which can be a very tedious process if
we do it manually.

The model
---------

Our network consists of three switched LANs. We use routers to connect these
LANs to form an internetwork as shown in the figure below:


.. figure:: media/step1network.png
   :width: 80%
   :align: center

The ``RipNetworkA.ned`` file defines this topology (see link at bottom).

Experiment
----------

We test the routing tables by sending ping packets from ``host0`` to ``host6``. The
experiment is set up in the ``omnetpp.ini`` file, in the ``Step1`` section:

.. literalinclude:: ../omnetpp.ini
   :language: ini
   :start-at: Step1
   :end-before: ------

At the start of the simulation, the  configurator module does the
hard work, assigns addresses to the network interfaces, and by using its
built-in magic, fills in routing tables with the right entries. As the
simulation progresses, we see that the ping packets generated by ``host0`` find
their way to ``host6`` through the LAN switches and routers through the shortest
paths as set. The following video demonstrates this.

.. video:: media/step1_2.mp4
   :width: 100%

..   <!--internal video recording, animation speed none, playback speed 2.138, zoom 0.77-->

In the video, routes towards ``host0`` are displayed as red arrows
and routes towards ``host6`` as blue arrows, as can be seen in the next screenshot:

.. figure:: media/step1routes.png
   :width: 80%
   :align: center

Next, we will use our network to start experimenting with the RIP implementation.

Sources:
:download:`omnetpp.ini <../omnetpp.ini>`,
:download:`RipNetworkA.ned <../RipNetworkA.ned>`
