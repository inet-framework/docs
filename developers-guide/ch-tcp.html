<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    
    <title>The TCP Models &#8212; INET Documentation  documentation</title>

    <link rel="stylesheet" href="../_static/material-icons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/notosanscjkjp.css" type="text/css" />
    <link rel="stylesheet" href="../_static/roboto.css" type="text/css" />
    <link rel="stylesheet" href="../_static/material-design-lite-1.3.0/material.blue-light_blue.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx_materialdesign_theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/inet_theme.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/sphinx_materialdesign_theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head>
<body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header mdl-layout--fixed-drawer"><header class="mdl-layout__header  ">
    <div class="mdl-layout__header-row">
        
        <nav class="mdl-navigation breadcrumb">
            <a class="mdl-navigation__link is-active">The TCP Models</a>
        </nav>
        <div class="mdl-layout-spacer"></div>
        <nav class="mdl-navigation">
        
<form class="form-inline pull-sm-right" action="../search.html" method="get">
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-right">
        <label id="quick-search-icon" class="mdl-button mdl-js-button mdl-button--icon"  for="waterfall-exp">
            <i class="material-icons">search</i>
        </label>
        <div class="mdl-textfield__expandable-holder">
          <input class="mdl-textfield__input" type="text" name="q"  id="waterfall-exp" placeholder="Search" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </div>
      </div>
      <div class="mdl-tooltip" data-mdl-for="quick-search-icon">
      Quick search
      </div>
</form>
        
<a id="button-show-source"
    class="mdl-button mdl-js-button mdl-button--icon"
    href="../_sources/developers-guide/ch-tcp.rst.txt" rel="nofollow">
<i class="material-icons">code</i>
</a>
<div class="mdl-tooltip" data-mdl-for="button-show-source">
Show Source
</div>
        </nav>
    </div>
</header><header class="mdl-layout__drawer">
    
    
      <div class="globaltoc">
        <span class="mdl-layout-title toc">Table Of Contents</span>
        
        
            
            <nav class="mdl-navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../showcases/index.html">Showcases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../showcases/general/index.html">Generic</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../showcases/general/pcaprecording/doc/index.html">PCAP Recording</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/general/diffserv/doc/index.html">Differentiated Services</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../showcases/mobility/index.html">Mobility</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../showcases/mobility/basic/doc/index.html">Mobility Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/mobility/combining/doc/index.html">Combining Mobility Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/mobility/spatial/doc/index.html">3D Mobility</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../showcases/routing/index.html">Routing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../showcases/routing/manet/doc/index.html">MANET Routing Protocols</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../showcases/visualizer/index.html">Visualization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/packetdrop/doc/index.html">Visualizing Packet Drops</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/transportpathactivity/doc/index.html">Visualizing Transport Path Activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/networkpathactivity/doc/index.html">Visualizing Network Path Activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/datalinkactivity/doc/index.html">Visualizing Data Link Activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/physicallinkactivity/doc/index.html">Visualizing Physical Link Activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/radiomediumactivity/doc/index.html">Visualizing Radio Medium Activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/routingtable/doc/index.html">Visualizing Routing Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/interfacetable/doc/index.html">Displaying IP Addresses and Other Interface Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/ieee80211/doc/index.html">Visualizing IEEE 802.11 Network Membership</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/transportconnection/doc/index.html">Visualizing Transport Connections</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/networknode/doc/index.html">Visualizing Network Nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/environment/doc/index.html">Visualizing the Physical Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/mobility/doc/index.html">Visualizing Node Mobility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/earth/doc/index.html">Visualizing Terrain and Urban Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/instrumentfigures/doc/index.html">Instrument Figures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/styling/doc/index.html">Styling and Appearance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/submoduleinfo/doc/index.html">Visualizing Submodule Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/statistic/doc/index.html">Visualizing Statistics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../showcases/wireless/index.html">Wireless</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/power/doc/index.html">Power Consumption</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/pathloss/doc/index.html">Path Loss Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/sensornetwork/doc/index.html">MAC Protocols for Wireless Sensor Networks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/ieee802154/doc/index.html">IEEE 802.15.4 Smart Home</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/directionalantennas/doc/index.html">Modeling Directional Antennas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/throughput/doc/index.html">IEEE 802.11 Throughput</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/errorrate/doc/index.html">Packet Loss vs. Distance Using Various WiFi Bitrates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/hiddennode/doc/index.html">The Hidden Node Problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/handover/doc/index.html">IEEE 802.11 Handover</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/ratecontrol/doc/index.html">IEEE 802.11 Rate Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/multiradio/doc/index.html">Multiple Wireless Interfaces</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/wireless/doc/index.html">Wireless</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step1.html">Step 1. Two hosts communicating wirelessly</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step2.html">Step 2. Setting up some animations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step3.html">Step 3. Adding more nodes and decreasing the communication range</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step4.html">Step 4. Setting up static routing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step5.html">Step 5. Taking interference into account</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step6.html">Step 6. Using CSMA to better utilize the medium</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step7.html">Step 7. Turning on ACKs in CSMA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step8.html">Step 8. Modeling energy consumption</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step9.html">Step 9. Configuring node movements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step10.html">Step 10. Configuring ad-hoc routing (AODV)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step11.html">Step 11. Adding obstacles to the environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step12.html">Step 12. Changing to a more realistic radio model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step13.html">Step 13. Configuring a more accurate pathloss model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step14.html">Step 14. Introducing antenna gain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/conclusion.html">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/configurator/doc/index.html">IPv4 Network Configurator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step1.html">Step 1. Fully automatic IP address assignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step2.html">Step 2. Manually overriding individual IP addresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step3.html">Step 3. Automatically assigning IP addresses to a subnet from a given range</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step4.html">Step 4. Fully automatic static routing table configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step5.html">Step 5. Manually overriding individual routes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step6.html">Step 6. Setting different metric for automatic routing table configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step7.html">Step 7. Configuring a hierarchical network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step8.html">Step 8. Configuring a mixed wired/wireless network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step9.html">Step 9. Leaving some part of the network unconfigured</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step10.html">Step 10. Configuring a completely wireless network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step11.html">Step 11. Manually modifying an automatically created configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step12.html">Step 12. Mixing different kinds of autorouting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/conclusion.html">Conclusion</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../users-guide/index.html">User’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-usage.html">Using the INET Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-networks.html">Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-network-nodes.html">Network Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-network-interfaces.html">Network Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-apps.html">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-transport.html">Transport Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ipv4.html">The IPv4 Protocol Family</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ipv6.html">IPv6 and Mobile IPv6</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-other-network-protocols.html">Other Network Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-routing.html">Internet Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-adhoc-routing.html">Ad Hoc Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-diffserv.html">Differentiated Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-mpls.html">The MPLS Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ppp.html">Point-to-Point Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ethernet.html">The Ethernet Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-80211.html">The 802.11 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-802154.html">The 802.15.4 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-sensor-macs.html">MAC Protocols for Wireless Sensor Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-physicallayer.html">The Physical Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-transmission-medium.html">The Transmission Medium</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-environment.html">The Physical Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-mobility.html">Node Mobility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-power.html">Modeling Power Consumption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-emulation.html">Network Emulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-network-autoconfig.html">Network Autoconfiguration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-scenario-scripting.html">Scenario Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-lifecycle.html">Modeling Node Failures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-collecting-results.html">Collecting Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-visualization.html">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-instrument-figures.html">Instrument Figures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-authors-guide.html">Appendix: Author’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-history.html">History</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Developer’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-packets.html">Working with Packets</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-sockets.html">Using Sockets</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-testing.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-authors-guide.html">Appendix: Author’s Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://omnetpp.org/doc/inet/api-current/neddoc/">NED Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://inet.omnetpp.org">← Back to the INET Site</a></li>
</ul>

            </nav>
        
        </div>
    
</header>
        <main class="mdl-layout__content" tabIndex="0">
<header class="mdl-layout__drawer">
    
    
      <div class="globaltoc">
        <span class="mdl-layout-title toc">Table Of Contents</span>
        
        
            
            <nav class="mdl-navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../showcases/index.html">Showcases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../showcases/general/index.html">Generic</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../showcases/general/pcaprecording/doc/index.html">PCAP Recording</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/general/diffserv/doc/index.html">Differentiated Services</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../showcases/mobility/index.html">Mobility</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../showcases/mobility/basic/doc/index.html">Mobility Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/mobility/combining/doc/index.html">Combining Mobility Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/mobility/spatial/doc/index.html">3D Mobility</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../showcases/routing/index.html">Routing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../showcases/routing/manet/doc/index.html">MANET Routing Protocols</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../showcases/visualizer/index.html">Visualization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/packetdrop/doc/index.html">Visualizing Packet Drops</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/transportpathactivity/doc/index.html">Visualizing Transport Path Activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/networkpathactivity/doc/index.html">Visualizing Network Path Activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/datalinkactivity/doc/index.html">Visualizing Data Link Activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/physicallinkactivity/doc/index.html">Visualizing Physical Link Activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/radiomediumactivity/doc/index.html">Visualizing Radio Medium Activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/routingtable/doc/index.html">Visualizing Routing Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/interfacetable/doc/index.html">Displaying IP Addresses and Other Interface Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/ieee80211/doc/index.html">Visualizing IEEE 802.11 Network Membership</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/transportconnection/doc/index.html">Visualizing Transport Connections</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/networknode/doc/index.html">Visualizing Network Nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/environment/doc/index.html">Visualizing the Physical Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/mobility/doc/index.html">Visualizing Node Mobility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/earth/doc/index.html">Visualizing Terrain and Urban Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/instrumentfigures/doc/index.html">Instrument Figures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/styling/doc/index.html">Styling and Appearance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/submoduleinfo/doc/index.html">Visualizing Submodule Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/visualizer/statistic/doc/index.html">Visualizing Statistics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../showcases/wireless/index.html">Wireless</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/power/doc/index.html">Power Consumption</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/pathloss/doc/index.html">Path Loss Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/sensornetwork/doc/index.html">MAC Protocols for Wireless Sensor Networks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/ieee802154/doc/index.html">IEEE 802.15.4 Smart Home</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/directionalantennas/doc/index.html">Modeling Directional Antennas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/throughput/doc/index.html">IEEE 802.11 Throughput</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/errorrate/doc/index.html">Packet Loss vs. Distance Using Various WiFi Bitrates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/hiddennode/doc/index.html">The Hidden Node Problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/handover/doc/index.html">IEEE 802.11 Handover</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/ratecontrol/doc/index.html">IEEE 802.11 Rate Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../showcases/wireless/multiradio/doc/index.html">Multiple Wireless Interfaces</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/wireless/doc/index.html">Wireless</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step1.html">Step 1. Two hosts communicating wirelessly</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step2.html">Step 2. Setting up some animations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step3.html">Step 3. Adding more nodes and decreasing the communication range</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step4.html">Step 4. Setting up static routing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step5.html">Step 5. Taking interference into account</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step6.html">Step 6. Using CSMA to better utilize the medium</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step7.html">Step 7. Turning on ACKs in CSMA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step8.html">Step 8. Modeling energy consumption</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step9.html">Step 9. Configuring node movements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step10.html">Step 10. Configuring ad-hoc routing (AODV)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step11.html">Step 11. Adding obstacles to the environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step12.html">Step 12. Changing to a more realistic radio model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step13.html">Step 13. Configuring a more accurate pathloss model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/step14.html">Step 14. Introducing antenna gain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/wireless/doc/conclusion.html">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/configurator/doc/index.html">IPv4 Network Configurator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step1.html">Step 1. Fully automatic IP address assignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step2.html">Step 2. Manually overriding individual IP addresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step3.html">Step 3. Automatically assigning IP addresses to a subnet from a given range</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step4.html">Step 4. Fully automatic static routing table configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step5.html">Step 5. Manually overriding individual routes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step6.html">Step 6. Setting different metric for automatic routing table configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step7.html">Step 7. Configuring a hierarchical network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step8.html">Step 8. Configuring a mixed wired/wireless network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step9.html">Step 9. Leaving some part of the network unconfigured</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step10.html">Step 10. Configuring a completely wireless network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step11.html">Step 11. Manually modifying an automatically created configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/step12.html">Step 12. Mixing different kinds of autorouting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/configurator/doc/conclusion.html">Conclusion</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../users-guide/index.html">User’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-usage.html">Using the INET Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-networks.html">Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-network-nodes.html">Network Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-network-interfaces.html">Network Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-apps.html">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-transport.html">Transport Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ipv4.html">The IPv4 Protocol Family</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ipv6.html">IPv6 and Mobile IPv6</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-other-network-protocols.html">Other Network Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-routing.html">Internet Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-adhoc-routing.html">Ad Hoc Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-diffserv.html">Differentiated Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-mpls.html">The MPLS Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ppp.html">Point-to-Point Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ethernet.html">The Ethernet Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-80211.html">The 802.11 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-802154.html">The 802.15.4 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-sensor-macs.html">MAC Protocols for Wireless Sensor Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-physicallayer.html">The Physical Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-transmission-medium.html">The Transmission Medium</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-environment.html">The Physical Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-mobility.html">Node Mobility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-power.html">Modeling Power Consumption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-emulation.html">Network Emulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-network-autoconfig.html">Network Autoconfiguration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-scenario-scripting.html">Scenario Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-lifecycle.html">Modeling Node Failures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-collecting-results.html">Collecting Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-visualization.html">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-instrument-figures.html">Instrument Figures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-authors-guide.html">Appendix: Author’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-history.html">History</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Developer’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-packets.html">Working with Packets</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-sockets.html">Using Sockets</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-testing.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-authors-guide.html">Appendix: Author’s Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://omnetpp.org/doc/inet/api-current/neddoc/">NED Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://inet.omnetpp.org">← Back to the INET Site</a></li>
</ul>

            </nav>
        
        </div>
    
</header>

    <div class="document">
        <div class="page-content">
        
  <div class="section" id="the-tcp-models">
<span id="dg-cha-tcp"></span><h1>The TCP Models<a class="headerlink" href="#the-tcp-models" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-tcp-module">
<h2>The TCP Module<a class="headerlink" href="#the-tcp-module" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference-ned reference external" href="https://omnetpp.org/doc/inet/api-current/neddoc/inet.transportlayer.tcp.Tcp.html">Tcp</a> model relies on sending and receiving
<code class="code literal-cpp docutils literal notranslate"><span class="pre">IPControlInfo</span></code> objects attached to TCP segment objects as control
info (see <code class="code literal-cpp docutils literal notranslate"><span class="pre">cMessage::setControlInfo()</span></code>).</p>
<p>The <a class="reference-ned reference external" href="https://omnetpp.org/doc/inet/api-current/neddoc/inet.transportlayer.tcp.Tcp.html">Tcp</a> module manages several <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpConnection</span></code> object each
holding the state of one connection. The connections are identified by a
connection identifier which is choosen by the application. If the
connection is established it can also be identified by the local and
remote addresses and ports. The TCP module simply dispatches the
incoming application commands and packets to the corresponding object.</p>
<div class="section" id="tcp-packets">
<span id="subsec-tcp-packets"></span><h3>TCP packets<a class="headerlink" href="#tcp-packets" title="Permalink to this headline">¶</a></h3>
<p>The INET framework models the TCP header with the <a class="reference-msg reference external" href="https://omnetpp.org/doc/inet/api-current/neddoc/src-inet-transportlayer-tcp_common-TcpHeader.html">TcpHeader</a>
message class. This contains the fields of a TCP frame, except:</p>
<ul class="simple">
<li><em>Data Offset</em>: represented by <code class="code literal-cpp docutils literal notranslate"><span class="pre">cMessage::length()</span></code></li>
<li><em>Reserved</em></li>
<li><em>Checksum</em>: modelled by <code class="code literal-cpp docutils literal notranslate"><span class="pre">cMessage::hasBitError()</span></code></li>
<li><em>Options</em>: only EOL, NOP, MSS, WS, SACK_PERMITTED, SACK and TS are
possible</li>
<li><em>Padding</em></li>
</ul>
<p>The Data field can either be represented by (see
<code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpDataTransferMode</span></code>):</p>
<ul class="simple">
<li>encapsulated C++ packet objects,</li>
<li>raw bytes as a <code class="code literal-cpp docutils literal notranslate"><span class="pre">ByteArray</span></code> instance,</li>
<li>its byte count only,</li>
</ul>
<p>corresponding to transfer modes OBJECT, BYTESTREAM, BYTECOUNT resp.</p>
</div>
<div class="section" id="tcp-commands">
<h3>TCP commands<a class="headerlink" href="#tcp-commands" title="Permalink to this headline">¶</a></h3>
<p>The application and the TCP module communicates with each other by
sending <code class="code literal-cpp docutils literal notranslate"><span class="pre">cMessage</span></code> objects. These messages are specified in the
<code class="file docutils literal notranslate"><span class="pre">TCPCommand.msg</span></code> file.</p>
<p>The <code class="code literal-cpp docutils literal notranslate"><span class="pre">TCPCommandCode</span></code> enumeration defines the message kinds that are
sent by the application to the TCP:</p>
<ul class="simple">
<li>TCP_C_OPEN_ACTIVE: active open</li>
<li>TCP_C_OPEN_PASSIVE: passive open</li>
<li>TCP_C_SEND: send data</li>
<li>TCP_C_CLOSE: no more data to send</li>
<li>TCP_C_ABORT: abort connection</li>
<li>TCP_C_STATUS: request status info from TCP</li>
</ul>
<p>Each command message should have an attached control info of type
<code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpCommand</span></code>. Some commands (TCP_C_OPEN_xxx, TCP_C_SEND) use
subclasses. The <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpCommand</span></code> object has a <code class="code literal-cpp docutils literal notranslate"><span class="pre">connId</span></code> field that
identifies the connection locally within the application. <code class="code literal-cpp docutils literal notranslate"><span class="pre">connId</span></code>
is to be chosen by the application in the open command.</p>
<p>When the application receives a message from the TCP, the message kind
is set to one of the <code class="code literal-cpp docutils literal notranslate"><span class="pre">TCPStatusInd</span></code> values:</p>
<ul class="simple">
<li>TCP_I_ESTABLISHED: connection established</li>
<li>TCP_I_CONNECTION_REFUSED: connection refused</li>
<li>TCP_I_CONNECTION_RESET: connection reset</li>
<li>TCP_I_TIME_OUT: connection establish timer went off, or max
retransmission count reached</li>
<li>TCP_I_DATA: data packet</li>
<li>TCP_I_URGENT_DATA: urgent data packet</li>
<li>TCP_I_PEER_CLOSED: FIN received from remote TCP</li>
<li>TCP_I_CLOSED: connection closed normally</li>
<li>TCP_I_STATUS: status info</li>
</ul>
<p>These messages also have an attached control info with <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpCommand</span></code>
or derived type (TCPConnectInfo, TCPStatusInfo, TCPErrorInfo).</p>
</div>
<div class="section" id="tcp-parameters">
<h3>TCP parameters<a class="headerlink" href="#tcp-parameters" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference-ned reference external" href="https://omnetpp.org/doc/inet/api-current/neddoc/inet.transportlayer.tcp.Tcp.html">Tcp</a> module has the following parameters:</p>
<ul>
<li><p class="first"><code class="code literal-ini docutils literal notranslate"><span class="pre">advertisedWindow</span></code> in bytes, corresponds with the maximal
receiver buffer capacity (Note: normally, NIC queues should be at
least this size, default is 14*mss)</p>
</li>
<li><p class="first"><code class="code literal-ini docutils literal notranslate"><span class="pre">delayedAcksEnabled</span></code> delayed ACK algorithm (RFC 1122)
enabled/disabled</p>
</li>
<li><p class="first"><code class="code literal-ini docutils literal notranslate"><span class="pre">nagleEnabled</span></code> Nagle’s algorithm (RFC 896) enabled/disabled</p>
</li>
<li><p class="first"><code class="code literal-ini docutils literal notranslate"><span class="pre">limitedTransmitEnabled</span></code> Limited Transmit algorithm (RFC 3042)
enabled/disabled (can be used for
TCPReno/TCPTahoe/TCPNewReno/TCPNoCongestionControl)</p>
</li>
<li><p class="first"><code class="code literal-ini docutils literal notranslate"><span class="pre">increasedIWEnabled</span></code> Increased Initial Window (RFC 3390)
enabled/disabled</p>
</li>
<li><p class="first"><code class="code literal-ini docutils literal notranslate"><span class="pre">sackSupport</span></code> Selective Acknowledgment (RFC 2018, 2883, 3517)
support (header option) (SACK will be enabled for a connection if
both endpoints support it)</p>
</li>
<li><p class="first"><code class="code literal-ini docutils literal notranslate"><span class="pre">windowScalingSupport</span></code> Window Scale (RFC 1323) support (header
option) (WS will be enabled for a connection if both endpoints
support it)</p>
</li>
<li><p class="first"><code class="code literal-ini docutils literal notranslate"><span class="pre">timestampSupport</span></code> Timestamps (RFC 1323) support (header option)
(TS will be enabled for a connection if both endpoints support it)</p>
</li>
<li><p class="first"><code class="code literal-ini docutils literal notranslate"><span class="pre">mss</span></code> Maximum Segment Size (RFC 793) (header option, default is
536)</p>
</li>
<li><p class="first"><code class="code literal-ini docutils literal notranslate"><span class="pre">tcpAlgorithmClass</span></code> the name of TCP flavour</p>
<p>Possible values are “TCPReno” (default), “TCPNewReno”, “TCPTahoe”,
“TCPNoCongestionControl” and “DumpTCP”. In the future, other classes
can be written which implement Vegas, LinuxTCP or other variants. See
section <a class="reference external" href="#sec:tcp_algorithms">1.3</a> for detailed description of
implemented flavours.</p>
<p>Note that TCPOpenCommand allows tcpAlgorithmClass to be chosen
per-connection.</p>
</li>
<li><p class="first"><code class="code literal-ini docutils literal notranslate"><span class="pre">recordStats</span></code> if set to false it disables writing excessive
amount of output vectors</p>
</li>
</ul>
</div>
</div>
<div class="section" id="tcp-connections">
<h2>TCP connections<a class="headerlink" href="#tcp-connections" title="Permalink to this headline">¶</a></h2>
<p>Most part of the TCP specification is implemented in the
<code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpConnection</span></code> class: takes care of the state machine, stores the
state variables (TCB), sends/receives SYN, FIN, RST, ACKs, etc.
TCPConnection itself implements the basic TCP “machinery”, the details
of congestion control are factored out to <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpAlgorithm</span></code> classes.</p>
<p>There are two additional objects the <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpConnection</span></code> relies on
internally: instances of <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpSendQueue</span></code> and <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpReceiveQueue</span></code>.
These polymorph classes manage the actual data stream, so
<code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpConnection</span></code> itself only works with sequence number variables.
This makes it possible to easily accomodate need for various types of
simulated data transfer: real byte stream, “virtual” bytes (byte counts
only), and sequence of <code class="code literal-cpp docutils literal notranslate"><span class="pre">cMessage</span></code> objects (where every message
object is mapped to a TCP sequence number range).</p>
<div class="section" id="data-transfer-modes">
<h3>Data transfer modes<a class="headerlink" href="#data-transfer-modes" title="Permalink to this headline">¶</a></h3>
<p>Different applications have different needs how to represent the
messages they communicate with. Sometimes it is enough to simulate the
amount of data transmitted (“200 MB”), contents does not matter. In
other scenarios contents matters a lot. The messages can be represented
as a stream of bytes, but sometimes it is easier for the applications to
pass message objects to each other (e.g. HTTP request represented by a
<span>HTTPRequest</span> message class).</p>
<p>The TCP modules in the INET framework support 3 data transfer modes:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">TCP_TRANSFER_BYTECOUNT</span></code>: only byte counts are represented, no
actual payload in <a class="reference-msg reference external" href="https://omnetpp.org/doc/inet/api-current/neddoc/src-inet-transportlayer-tcp_common-TcpHeader.html">TcpHeader</a>’s. The TCP sends as many TCP
segments as needed</li>
<li><code class="docutils literal notranslate"><span class="pre">TCP_TRANSFER_BYTESTREAM</span></code>: the application can pass byte arrays
to the TCP. The sending TCP breaks down the bytes into MSS sized
chunks and transmits them as the payload of the TCP segments. The
receiving application can read the chunks of the data.</li>
<li><code class="docutils literal notranslate"><span class="pre">TCP_TRANSFER_OBJECT</span></code>: the application pass a <code class="code literal-cpp docutils literal notranslate"><span class="pre">cMessage</span></code>
object to the TCP. The sending TCP sends as many TCP segments as
needed according to the message length. The <code class="code literal-cpp docutils literal notranslate"><span class="pre">cMessage</span></code> object is
also passed as the payload of the first segment. The receiving
application receives the object only when its last byte is received.</li>
</ul>
<p>These values are defined in <code class="file docutils literal notranslate"><span class="pre">TCPCommand.msg</span></code> as the
<code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpDataTransferMode</span></code> enumeration. The application can set the data
transfer mode per connection when the connection is opened. The client
and the server application must specify the same data transfer mode.</p>
</div>
<div class="section" id="opening-connections">
<h3>Opening connections<a class="headerlink" href="#opening-connections" title="Permalink to this headline">¶</a></h3>
<p>Applications can open a local port for incoming connections by sending
the TCP a TCP_C_PASSIVE_OPEN message. The attached control info (an
<code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpOpenCommand</span></code>) contains the local address and port. The
application can specify that it wants to handle only one connection at a
time, or multiple simultanous connections. If the <code class="code literal-cpp docutils literal notranslate"><span class="pre">fork</span></code> field is
true, it emulates the Unix accept(2) semantics: a new connection
structure is created for the connection (with a new <code class="code literal-cpp docutils literal notranslate"><span class="pre">connId</span></code>), and
the connection with the old connection id remains listening. If
<code class="code literal-cpp docutils literal notranslate"><span class="pre">fork</span></code> is false, then the first connection is accepted (with the
original <code class="code literal-cpp docutils literal notranslate"><span class="pre">connId</span></code>), and further incoming connections will be
refused by the TCP by sending an RST segment. The
<code class="code literal-cpp docutils literal notranslate"><span class="pre">dataTransferMode</span></code> field in <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpOpenCommand</span></code> specifies whether
the application data is transmitted as C++ objects, real bytes or byte
counts only. The congestion control algorithm can also be specified on a
per connection basis by setting <code class="code literal-cpp docutils literal notranslate"><span class="pre">tcpAlgorithmClass</span></code> field to the
name of the algorithm.</p>
<p>The application opens a connection to a remote server by sending the TCP
a TCP_C_OPEN_ACTIVE command. The TCP creates a <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpConnection</span></code>
object an sends a SYN segment. The initial sequence number selected
according to the simulation time: 0 at time 0, and increased by 1 in
each 4<span class="math notranslate nohighlight">\(\mu\)</span>s. If there is no response to the SYN segment, it
retry after 3s, 9s, 21s and 45s. After 75s a connection establishment
timeout (TCP_I_TIMEOUT) reported to the application and the connection
is closed.</p>
<p>When the connection gets established, TCP sends a TCP_I_ESTABLISHED
notification to the application. The attached control info (a
<code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpConnectInfo</span></code> instance) will contain the local and remote
addresses and ports of the connection. If the connection is refused by
the remote peer (e.g. the port is not open), then the application
receives a TCP_I_CONNECTION_REFUSED message.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you do active OPEN, then send data and close before the connection
has reached ESTABLISHED, the connection will go from SYN_SENT to CLOSED
without actually sending the buffered data. This is consistent with
RFC 793 but may not be what you would expect.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Handling segments with SYN+FIN bits set (esp. with data too) is
inconsistent across TCPs, so check this one if it is of importance.</p>
</div>
</div>
<div class="section" id="sending-data">
<h3>Sending Data<a class="headerlink" href="#sending-data" title="Permalink to this headline">¶</a></h3>
<p>The application can write data into the connection by sending a message
with TCP_C_SEND kind to the TCP. The attached control info must be of
type <code class="code literal-cpp docutils literal notranslate"><span class="pre">TCPSendCommand</span></code>.</p>
<p>The TCP will add the message to the <em>send queue</em>. There are three type
of send queues corresponding to the three data transfer mode. If the
payload is transmitted as a message object, then
<code class="code literal-cpp docutils literal notranslate"><span class="pre">TCPMsgBasedSendQueue</span></code>; if the payload is a byte array then
<code class="code literal-cpp docutils literal notranslate"><span class="pre">TCPDataStreamSendQueue</span></code>; if only the message lengths are
represented then <code class="code literal-cpp docutils literal notranslate"><span class="pre">TCPVirtualDataSendQueue</span></code> are the classes of send
queues. The appropriate queue is created based on the value of the
<code class="code literal-ini docutils literal notranslate"><span class="pre">dataTransferMode</span></code> parameter of the Open command, no further
configuration is needed.</p>
<p>The message is handed over to the IP when there is enough room in the
windows. If Nagle’s algorithm is enabled, the TCP will collect 1 SMSS
data and sends them toghether.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There is no way to set the PUSH and URGENT flags, when sending data.</p>
</div>
</div>
<div class="section" id="receiving-data">
<h3>Receiving Data<a class="headerlink" href="#receiving-data" title="Permalink to this headline">¶</a></h3>
<p>The TCP connection stores the incoming segments in the <em>receive queue</em>.
The receive queue also has three flavours: <code class="code literal-cpp docutils literal notranslate"><span class="pre">TCPMsgBasedRcvQueue</span></code>,
<code class="code literal-cpp docutils literal notranslate"><span class="pre">TCPDataStreamRcvQueue</span></code> and <code class="code literal-cpp docutils literal notranslate"><span class="pre">TCPVirtualDataRcvQueue</span></code>. The
queue is created when the connection is opened according to the
<code class="code literal-cpp docutils literal notranslate"><span class="pre">dataTransferMode</span></code> of the connection.</p>
<p>Finite receive buffer size is modeled by the <code class="code literal-ini docutils literal notranslate"><span class="pre">advertisedWindow</span></code>
parameter. If receive buffer is exhausted (by out-of-order segments) and
the payload length of a new received segment is higher than the free
receiver buffer, the new segment will be dropped. Such drops are
recorded in <em>tcpRcvQueueDrops</em> vector.</p>
<p>If the <em>Sequence Number</em> of the received segment is the next expected
one, then the data is passed to the application immediately. The
<code class="code literal-cpp docutils literal notranslate"><span class="pre">recv()</span></code> call of Unix is not modeled.</p>
<p>The data of the segment, which can be either a <code class="code literal-cpp docutils literal notranslate"><span class="pre">cMessage</span></code> object, a
<code class="code literal-cpp docutils literal notranslate"><span class="pre">ByteArray</span></code> object, or a simply byte count, is passed to the
application in a message that has TCP_I_DATA kind.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The TCP module does not handle the segments with PUSH or URGENT
flags specially. The data of the segment passed to the application
as soon as possible, but the application can not find out if that
data is urgent or pushed.</p>
</div>
</div>
<div class="section" id="reset-handling">
<h3>RESET handling<a class="headerlink" href="#reset-handling" title="Permalink to this headline">¶</a></h3>
<p>When an error occures at the TCP level, an RST segment is sent to the
communication partner and the connection is aborted. Such error can be:</p>
<ul class="simple">
<li>arrival of a segment in CLOSED state</li>
<li>an incoming segment acknowledges something not yet sent.</li>
</ul>
<p>The receiver of the RST it will abort the connection. If the connection
is not yet established, then the passive end will go back to the LISTEN
state and waits for another incoming connection instead of aborting.</p>
</div>
<div class="section" id="closing-connections">
<h3>Closing connections<a class="headerlink" href="#closing-connections" title="Permalink to this headline">¶</a></h3>
<p>When the application does not have more data to send, it closes the
connection by sending a TCP_C_CLOSE command to the TCP. The TCP will
transmit all data from its buffer and in the last segment sets the FIN
flag. If the FIN is not acknowledged in time it will be retransmitted
with exponential backoff.</p>
<p>The TCP receiving a FIN segment will notify the application that there
is no more data from the communication partner. It sends a
TCP_I_PEER_CLOSED message to the application containing the connection
identifier in the control info.</p>
<p>When both parties have closed the connection, the applications receive a
TCP_I_CLOSED message and the connection object is deleted. (Actually one
of the TCPs waits for <span class="math notranslate nohighlight">\(2 MSL\)</span> before deleting the connection, so
it is not possible to reconnect with the same addresses and port numbers
immediately.)</p>
</div>
<div class="section" id="aborting-connections">
<h3>Aborting connections<a class="headerlink" href="#aborting-connections" title="Permalink to this headline">¶</a></h3>
<p>The application can also abort the connection. This means that it does
not wait for incoming data, but drops the data associated with the
connection immediately. For this purpose the application sends a
TCP_C_ABORT message specifying the connection identifier in the attached
control info. The TCP will send a RST to the communication partner and
deletes the connection object. The application should not reconnect with
the same local and remote addresses and ports within MSL (maximum
segment lifetime), because segments from the old connection might be
accepted in the new one.</p>
</div>
<div class="section" id="status-requests">
<h3>Status Requests<a class="headerlink" href="#status-requests" title="Permalink to this headline">¶</a></h3>
<p>Applications can get detailed status information about an existing
connection. For this purpose they send the TCP module a TCP_C_STATUS
message attaching an <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpCommand</span></code> info with the identifier of the
connection. The TCP will respond with a TCP_I_STATUS message with a
<code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpStatusInfo</span></code> attachement. This control info contains the current
state, local and remote addresses and ports, the initial sequence
numbers, windows of the receiver and sender, etc.</p>
</div>
</div>
<div class="section" id="tcp-algorithms">
<span id="dg-sec-tcp-algorithms"></span><h2>TCP algorithms<a class="headerlink" href="#tcp-algorithms" title="Permalink to this headline">¶</a></h2>
<p>The <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpAlgorithm</span></code> object controls retransmissions, congestion
control and ACK sending: delayed acks, slow start, fast retransmit, etc.
They are all extends the <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpAlgorithm</span></code> class. This simplifies the
design of <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpConnection</span></code> and makes it a lot easier to implement
TCP variations such as Tahoe, NewReno, Vegas or LinuxTCP.</p>
<p>Currently implemented algorithm classes are <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpReno</span></code>,
<code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpTahoe</span></code>, <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpNewReno</span></code>, <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpNoCongestionControl</span></code> and
<code class="code literal-cpp docutils literal notranslate"><span class="pre">DumbTcp</span></code>. It is also possible to add new TCP variations by
implementing <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpAlgorithm</span></code>.</p>
<div align="center" class="align-center"><object data="../_images/graphviz-00bcc4af1dc2d046b566b60b4408e666af6e15c7.svg" type="image/svg+xml">
            <p class="warning">digraph g {
  fontsize=10; size=&quot;7,5&quot;; rankdir=&quot;BT&quot;
  node[ shape = &quot;rectangle&quot; ]

  TCPAlgorithm [ label=&quot;TCPAlgorithm&quot; ]

  DumbTCP -&gt; TCPAlgorithm [ arrowhead=&quot;empty&quot; ]
  TCPBaseAlg -&gt; TCPAlgorithm [ arrowhead=&quot;empty&quot; ]
  TCPNoCongestionControl -&gt; TCPBaseAlg
  TCPTahoeRenoFamily -&gt; TCPBaseAlg
  TCPTahoe -&gt; TCPTahoeRenoFamily
  TCPReno -&gt; TCPTahoeRenoFamily
  TCPNew -&gt; TCPTahoeRenoFamily
}</p></object>
</div>
<p>The concrete TCP algorithm class to use can be chosen per connection (in
OPEN) or in a module parameter.</p>
<div class="section" id="dumbtcp">
<h3>DumbTcp<a class="headerlink" href="#dumbtcp" title="Permalink to this headline">¶</a></h3>
<p>A very-very basic <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpAlgorithm</span></code> implementation, with hardcoded
retransmission timeout (2 seconds) and no other sophistication. It can
be used to demonstrate what happened if there was no adaptive timeout
calculation, delayed acks, silly window avoidance, congestion control,
etc. Because this algorithm does not send duplicate ACKs when receives
out-of-order segments, it does not work well together with other
algorithms.</p>
</div>
<div class="section" id="tcpbasealg">
<h3>TcpBaseAlg<a class="headerlink" href="#tcpbasealg" title="Permalink to this headline">¶</a></h3>
<p>The <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpBaseAlg</span></code> is the base class of the INET implementation of
Tahoe, Reno and New Reno. It implements basic TCP algorithms for
adaptive retransmissions, persistence timers, delayed ACKs, Nagle’s
algorithm, Increased Initial Window – EXCLUDING congestion control.
Congestion control is implemented in subclasses.</p>
<div class="section" id="delayed-ack">
<h4>Delayed ACK<a class="headerlink" href="#delayed-ack" title="Permalink to this headline">¶</a></h4>
<p>When the <code class="code literal-ini docutils literal notranslate"><span class="pre">delayedAcksEnabled</span></code> parameter is set to ,
<code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpBaseAlg</span></code> applies a 200ms delay before sending ACKs.</p>
</div>
<div class="section" id="nagles-algorithm">
<h4>Nagle’s algorithm<a class="headerlink" href="#nagles-algorithm" title="Permalink to this headline">¶</a></h4>
<p>When the <code class="code literal-ini docutils literal notranslate"><span class="pre">nagleEnabled</span></code> parameter is , then the algorithm does not
send small segments if there is outstanding data. See also
<a class="reference external" href="#subsec:trans_policies">[subsec:trans_policies]</a>.</p>
</div>
<div class="section" id="persistence-timer">
<h4>Persistence Timer<a class="headerlink" href="#persistence-timer" title="Permalink to this headline">¶</a></h4>
<p>The algorithm implements <em>Persistence Timer</em> (see
<a class="reference external" href="#subsec:flow_control">[subsec:flow_control]</a>). When a zero-sized
window is received it starts the timer with 5s timeout. If the timer
expires before the window is increased, a 1-byte probe is sent. Further
probes are sent after 5, 6, 12, 24, 48, 60, 60, 60, … seconds until
the window becomes positive.</p>
</div>
<div class="section" id="initial-congestion-window">
<h4>Initial Congestion Window<a class="headerlink" href="#initial-congestion-window" title="Permalink to this headline">¶</a></h4>
<p>Congestion window is set to 1 SMSS when the connection is established.
If the <code class="code literal-ini docutils literal notranslate"><span class="pre">increasedIWEnabled</span></code> parameter is true, then the initial
window is increased to 4380 bytes, but at least 2 SMSS and at most 4
SMSS. The congestion window is not updated afterwards; subclasses can
add congestion control by redefining virtual methods of the
<code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpBaseAlg</span></code> class.</p>
</div>
<div class="section" id="duplicate-acks">
<h4>Duplicate ACKs<a class="headerlink" href="#duplicate-acks" title="Permalink to this headline">¶</a></h4>
<p>The algorithm sends a duplicate ACK when an out-of-order segment is
received or when the incoming segment fills in all or part of a gap in
the sequence space.</p>
</div>
<div class="section" id="rto-calculation">
<h4>RTO calculation<a class="headerlink" href="#rto-calculation" title="Permalink to this headline">¶</a></h4>
<p>Retransmission timeout (<span class="math notranslate nohighlight">\(RTO\)</span>) is calculated according to Jacobson
algorithm (with <span class="math notranslate nohighlight">\(\alpha=7/8\)</span>), and Karn’s modification is also
applied. The initial value of the <span class="math notranslate nohighlight">\(RTO\)</span> is 3s, its minimum is 1s,
maximum is 240s (2 MSL).</p>
</div>
</div>
<div class="section" id="tcpnocongestion">
<h3>TCPNoCongestion<a class="headerlink" href="#tcpnocongestion" title="Permalink to this headline">¶</a></h3>
<p>TCP with no congestion control (i.e. congestion window kept very large).
Can be used to demonstrate effect of lack of congestion control.</p>
</div>
<div class="section" id="tcptahoe">
<h3>TcpTahoe<a class="headerlink" href="#tcptahoe" title="Permalink to this headline">¶</a></h3>
<p>The <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpTahoe</span></code> algorithm class extends <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpBaseAlg</span></code> with <em>Slow
Start</em>, <em>Congestion Avoidance</em> and <em>Fast Retransmit</em> congestion control
algorithms. This algorithm initiates a <em>Slow Start</em> when a packet loss
is detected.</p>
<div class="section" id="slow-start">
<h4>Slow Start<a class="headerlink" href="#slow-start" title="Permalink to this headline">¶</a></h4>
<p>The congestion window is initially set to 1 SMSS or in case of
<code class="code literal-ini docutils literal notranslate"><span class="pre">increasedIWEnabled</span></code> is to 4380 bytes (but no less than 2 SMSS and
no more than 4 SMSS). The window is increased on each incoming ACK by 1
SMSS, so it is approximately doubled in each RTT.</p>
</div>
<div class="section" id="congestion-avoidance">
<h4>Congestion Avoidance<a class="headerlink" href="#congestion-avoidance" title="Permalink to this headline">¶</a></h4>
<p>When the congestion window exceeded <span class="math notranslate nohighlight">\(ssthresh\)</span>, the window is
increased by <span class="math notranslate nohighlight">\(SMSS^2/cwnd\)</span> on each incoming ACK event, so it is
approximately increased by 1 SMSS per RTT.</p>
</div>
<div class="section" id="fast-retransmit">
<h4>Fast Retransmit<a class="headerlink" href="#fast-retransmit" title="Permalink to this headline">¶</a></h4>
<p>When the 3rd duplicate ACK received, a packet loss is detected and the
packet is retransmitted immediately. Simultanously the <span class="math notranslate nohighlight">\(ssthresh\)</span>
variable is set to half of the <span class="math notranslate nohighlight">\(cwnd\)</span> (but at least 2 SMSS) and
<span class="math notranslate nohighlight">\(cwnd\)</span> is set to 1 SMSS, so it enters slow start again.</p>
<p>Retransmission timeouts are handled the same way: <span class="math notranslate nohighlight">\(ssthresh\)</span> will
be <span class="math notranslate nohighlight">\(cwnd/2\)</span>, <span class="math notranslate nohighlight">\(cwnd\)</span> will be 1 SMSS.</p>
</div>
</div>
<div class="section" id="tcpreno">
<h3>TcpReno<a class="headerlink" href="#tcpreno" title="Permalink to this headline">¶</a></h3>
<p>The <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpReno</span></code> algorithm extends the behaviour <code class="code literal-cpp docutils literal notranslate"><span class="pre">TcpTahoe</span></code> with
<em>Fast Recovery</em>. This algorithm can also use the information transmitted
in SACK options, which enables a much more accurate congestion control.</p>
<div class="section" id="fast-recovery">
<h4>Fast Recovery<a class="headerlink" href="#fast-recovery" title="Permalink to this headline">¶</a></h4>
<p>When a packet loss is detected by receiveing 3 duplicate ACKs,
<span class="math notranslate nohighlight">\(ssthresh\)</span> set to half of the current window as in Tahoe. However
<span class="math notranslate nohighlight">\(cwnd\)</span> is set to <span class="math notranslate nohighlight">\(ssthresh + 3*SMSS\)</span> so it remains in
congestion avoidance mode. Then it will send one new segment for each
incoming duplicate ACK trying to keep the pipe full of data. This
requires the congestion window to be inflated on each incoming duplicate
ACK; it will be deflated to <span class="math notranslate nohighlight">\(ssthresh\)</span> when new data gets
acknowledged.</p>
<p>However a hard packet loss (i.e. RTO events) cause a slow start by
setting <span class="math notranslate nohighlight">\(cwnd\)</span> to 1 SMSS.</p>
</div>
<div class="section" id="sack-congestion-control">
<h4>SACK congestion control<a class="headerlink" href="#sack-congestion-control" title="Permalink to this headline">¶</a></h4>
<p>This algorithm can be used with the SACK extension. Set the
<code class="code literal-ini docutils literal notranslate"><span class="pre">sackSupport</span></code> parameter to to enable sending and receiving <em>SACK</em>
options.</p>
</div>
</div>
<div class="section" id="tcpnewreno">
<h3>TcpNewReno<a class="headerlink" href="#tcpnewreno" title="Permalink to this headline">¶</a></h3>
<p>This class implements the TCP variant known as New Reno. New Reno
recovers more efficiently from multiple packet losses within one RTT
than Reno does.</p>
<p>It does not exit fast-recovery phase until all data which was
out-standing at the time it entered fast-recovery is acknowledged. Thus
avoids reducing the <span class="math notranslate nohighlight">\(cwnd\)</span> multiple times.</p>
</div>
</div>
</div>


        </div>
        <div class="side-doc-outline">
            <div class="side-doc-outline--content"> 
<div class="localtoc">
    <p class="caption">
      <span class="caption-text">Table Of Contents</span>
    </p>
    <ul>
<li><a class="reference internal" href="#">The TCP Models</a><ul>
<li><a class="reference internal" href="#the-tcp-module">The TCP Module</a><ul>
<li><a class="reference internal" href="#tcp-packets">TCP packets</a></li>
<li><a class="reference internal" href="#tcp-commands">TCP commands</a></li>
<li><a class="reference internal" href="#tcp-parameters">TCP parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tcp-connections">TCP connections</a><ul>
<li><a class="reference internal" href="#data-transfer-modes">Data transfer modes</a></li>
<li><a class="reference internal" href="#opening-connections">Opening connections</a></li>
<li><a class="reference internal" href="#sending-data">Sending Data</a></li>
<li><a class="reference internal" href="#receiving-data">Receiving Data</a></li>
<li><a class="reference internal" href="#reset-handling">RESET handling</a></li>
<li><a class="reference internal" href="#closing-connections">Closing connections</a></li>
<li><a class="reference internal" href="#aborting-connections">Aborting connections</a></li>
<li><a class="reference internal" href="#status-requests">Status Requests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tcp-algorithms">TCP algorithms</a><ul>
<li><a class="reference internal" href="#dumbtcp">DumbTcp</a></li>
<li><a class="reference internal" href="#tcpbasealg">TcpBaseAlg</a><ul>
<li><a class="reference internal" href="#delayed-ack">Delayed ACK</a></li>
<li><a class="reference internal" href="#nagles-algorithm">Nagle’s algorithm</a></li>
<li><a class="reference internal" href="#persistence-timer">Persistence Timer</a></li>
<li><a class="reference internal" href="#initial-congestion-window">Initial Congestion Window</a></li>
<li><a class="reference internal" href="#duplicate-acks">Duplicate ACKs</a></li>
<li><a class="reference internal" href="#rto-calculation">RTO calculation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tcpnocongestion">TCPNoCongestion</a></li>
<li><a class="reference internal" href="#tcptahoe">TcpTahoe</a><ul>
<li><a class="reference internal" href="#slow-start">Slow Start</a></li>
<li><a class="reference internal" href="#congestion-avoidance">Congestion Avoidance</a></li>
<li><a class="reference internal" href="#fast-retransmit">Fast Retransmit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tcpreno">TcpReno</a><ul>
<li><a class="reference internal" href="#fast-recovery">Fast Recovery</a></li>
<li><a class="reference internal" href="#sack-congestion-control">SACK congestion control</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tcpnewreno">TcpNewReno</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
            </div>
        </div>

      <div class="clearer"></div>
    </div><div class="pagenation">
  </div>
        
        </main>
    </div>
  </body>
</html>